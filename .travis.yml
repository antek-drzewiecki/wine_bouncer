sudo: false
before_install:
- gem uninstall -v '>= 2' -i $(rvm gemdir)@global -ax bundler || true
- gem install bundler -v '< 2'
language: ruby
cache: bundler
rvm:
- 2.3.8
- 2.4.5
- 2.5.3
- 2.6.0

env:
- rails=4.2.11 grape=0.16.2 doorkeeper=3.1.0
- rails=4.2.11 grape=0.16.2 doorkeeper=4.2.6
- rails=4.2.11 grape=1.1.0 doorkeeper=4.4.3
- rails=5.0.7.1 grape=0.16.2 doorkeeper=4.4.3
- rails=5.0.7.1 grape=0.19.2 doorkeeper=4.4.3
- rails=5.0.7.1 grape=1.0.0 doorkeeper=4.4.3
- rails=5.0.7.1 grape=1.1.0 doorkeeper=4.4.3
- rails=5.0.7.1 grape=1.2.3 doorkeeper=4.4.3
- rails=5.0.7.1 grape=1.0.0 doorkeeper=5.0.2
- rails=5.0.7.1 grape=1.1.0 doorkeeper=5.0.2
- rails=5.0.7.1 grape=1.2.3 doorkeeper=5.0.2
- rails=5.1.6.1 grape=1.0.0 doorkeeper=4.4.3
- rails=5.1.6.1 grape=1.1.0 doorkeeper=4.4.3
- rails=5.1.6.1 grape=1.2.3 doorkeeper=4.4.3
- rails=5.1.6.1 grape=1.0.0 doorkeeper=5.0.2
- rails=5.1.6.1 grape=1.1.0 doorkeeper=5.0.2
- rails=5.1.6.1 grape=1.2.3 doorkeeper=5.0.2
- rails=5.2.2 grape=1.0.0 doorkeeper=4.4.3
- rails=5.2.2 grape=1.1.0 doorkeeper=4.4.3
- rails=5.2.2 grape=1.2.3 doorkeeper=4.4.3
- rails=5.2.2 grape=1.0.0 doorkeeper=5.0.2
- rails=5.2.2 grape=1.1.0 doorkeeper=5.0.2
- rails=5.2.2 grape=1.2.3 doorkeeper=5.0.2

addons:
  code_climate:
    repo_token: ab1b6ce5f973da033f80ae2e99fadbb32b2f9c37892703956d8ef954c8e8134e
  after_success:
    - bundle exec codeclimate-test-reporter

notifications:
  hipchat:
    rooms:
      secure: SUWenlDzlDbpryO1QzD+rN4MxIBpAAzwsFqnnkyRQ11thRVdvKuT2TUd+RlYImLXDNkvNjqmpXh7mihtcro9g8unR3nF1UKbuAPIv2kCklsio0jAnjVn7+h1l56hsa90Jy9t/YpKtoLx2QNWLz70n8VrtGJMAt53T6tZdgNUp58=
